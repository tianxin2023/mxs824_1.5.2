/* Copyright (C) 2018 - 2020 Dolphin Interconnect Solutions AS. All rights reserved */
var popup_close_cb;function popup_is_open(){return!!document.getElementById("popup")}function popup_onclose(e){popup_close_cb=e}function popup_close(){var e=document.getElementsByTagName("body")[0];var t=document.getElementById("overlay");var n=document.getElementById("popup");if(t){e.removeChild(t)}if(n){e.removeChild(n)}if(popup_close_cb){popup_close_cb();popup_close_cb=undefined}e.removeAttribute("style")}function popup_create(e,t,n,p){if(popup_is_open()){return}var r=document.getElementsByTagName("body")[0];var i=document.createElement("div");var o=document.createElement("div");var l=document.createElement("div");var d=document.createElement("h2");var a=document.createElement("p");var c=document.createElement("textarea");i.setAttribute("id","popup");o.setAttribute("id","overlay");c.setAttribute("id","popup-details");d.innerHTML=e;a.innerHTML=t;l.setAttribute("class","sectiontable");l.appendChild(d);l.appendChild(a);if(p&&p.length){c.innerHTML=p;l.appendChild(c);c.scrollTop=c.scrollHeight}i.appendChild(l);if(n){var u=function(e){popup_close()};var s=document.createElement("button");s.innerHTML="OK";s.onclick=u;o.addEventListener("click",u);l.appendChild(s)}r.appendChild(o);r.appendChild(i);r.setAttribute("style","overflow: hidden;")}function popup_addclass(e){var t=document.getElementById("popup");var n=t.getElementsByTagName("div")[0];var p=n.getAttribute("class");if(p.indexOf(e)==-1){n.setAttribute("class",p+" "+e)}}function popup(e,t,n){var p;if(popup_is_open()){var r=document.getElementById("popup-details");if(r&&r.innerHTML.length){p=r.innerHTML}popup_close()}popup_create(e,t,n,p)}function popup_select(e,t,n){var p=document.createElement("button");var r=document.createElement("button");p.innerHTML="OK";r.innerHTML="Cancel";p.onclick=function(e){e.preventDefault();popup_close();n(1)};r.onclick=function(e){e.preventDefault();popup_close();n(0)};popup(e,t,0);var i=document.getElementById("overlay");var o=document.getElementById("popup");var l=o.children[0];i.addEventListener("click",function(){popup_close();n(0)});l.appendChild(p);l.appendChild(r)}function popup_error(e,t,n){popup(e,t,n);popup_addclass("error")}function popup_set_progress(e,t,n){var p;var r;var i;var o;var l;var d;var a;var c;var u=document.getElementById("popup");var s;if(!u){return}s=u.children[0];if(!s){return}if(s.children.length){for(p=s.children.length-1;p>-1;--p){if(s.children[p].tagName==="BUTTON"){continue}if(s.children[p].getAttribute("class")==="pbar-container"){i=s.children[p];break}r=s.children[p];break}}if(!i){var m=document.getElementById("popup-details");if(m){m.parentNode.removeChild(m)}i=document.createElement("div");o=document.createElement("p");l=document.createElement("div");d=document.createElement("img");a=document.createElement("textarea");c=document.createElement("div");i.setAttribute("class","pbar-container");l.setAttribute("class","progress-bar");d.setAttribute("src","/img/ajax-loader.gif");a.setAttribute("id","popup-details");l.appendChild(c);i.appendChild(o);i.appendChild(l);i.appendChild(d);i.appendChild(a);if(r){s.insertBefore(i,r.nextSibling)}else{s.appendChild(i)}}else{o=i.children[0];l=i.children[1];d=i.children[2];a=i.children[3];c=l.children[0]}o.innerHTML=e;if(t>=0){c.innerHTML=t+"%";c.setAttribute("style","width:"+t+"%");l.removeAttribute("style");d.setAttribute("style","display: none;")}else{l.setAttribute("style","display: none;");d.removeAttribute("style")}if(n&&n.length){a.innerHTML=n;a.removeAttribute("style")}else{a.setAttribute("style","display: none;")}}function popup_get_details(){var e=document.getElementById("popup-details");if(e){return e.innerHTML}return""}